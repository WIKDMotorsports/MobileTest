<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WIKD Build - 2016 CORVETTE Z06 Z07</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    /* Custom styles to complement Tailwind */
    :root {
      --color-primary: #FF3B30;
    }
    body {
      font-family: 'Inter', sans-serif;
      background-color: #0A0A0A;
      color: #EAEAEA;
    }
    .font-heading {
      font-family: 'Rajdhani', sans-serif;
    }
    .lava-gradient-text {
      background: linear-gradient(90deg, #b30000, #ff1a00, #ffaa00, #ff1a00, #b30000);
      background-size: 300%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: lavaFlow 4s ease-in-out infinite;
    }
    .lava-gradient-bg {
      background: linear-gradient(90deg, #b30000, #ff1a00, #ffaa00, #ff1a00, #b30000);
      background-size: 300%;
      animation: lavaFlow 4s ease-in-out infinite;
    }
    @keyframes lavaFlow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
   
    .clip-path-data-section {
      clip-path: polygon(0 0, 100% 0, 100% 100%, 15px 100%, 0 95%);
    }
    *:focus-visible {
      outline: 2px solid var(--color-primary) !important;
      outline-offset: 2px;
    }
    .mods-section ul li::before {
      content: 'â– ';
      color: var(--color-primary);
      margin-right: 0.75rem;
      font-size: 0.8em;
    }
    #chart-container {
      position: relative;
    }

    /* --- MOBILE-FIRST LAYOUT & TICKER STYLES --- */
    #tickerWrapper {
        height: 100vh; 
        width: 100%;
        overflow-x: scroll;
        position: relative; 
    }
    #tickerWrapper::-webkit-scrollbar { display: none; }
    #tickerWrapper { -ms-overflow-style: none; scrollbar-width: none; }

    #tickerInner {
        display: flex;
        flex-direction: row;
        height: 100%;
        width: max-content;
        will-change: transform;
    }
    .image-ticker-card {
        height: 100%;
        width: 80vw;
        margin: 0 2vw;
        flex-shrink: 0;
        overflow: hidden;
        cursor: pointer;
        border-radius: 0.5rem;
    }
    .image-ticker-card img {
        width: 100%;
        height: 100%;
        display: block;
        object-fit: cover;
        filter: grayscale(80%);
        transition: filter 0.3s ease-in-out;
    }
    .image-ticker-card:hover img {
        filter: grayscale(0%);
    }

    #contentCard {
      position: relative;
      z-index: 2;
      width: 100%;
      background-color: #0A0A0A;
      /* Angled top effect */
      clip-path: polygon(0 30px, 100% 0, 100% 100%, 0 100%);
    }
    
    /* Adds a pseudo-element to serve as the background for the angled top, avoiding a hard line */
    #contentCard::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #0A0A0A;
      z-index: -1;
      transform: translateY(-30px);
    }
  </style>
</head>
<body class="">
 
  <div id="tickerWrapper" class="ticker-wrapper">
    <div id="tickerInner" class="ticker-inner">
      <!-- Image cards are dynamically populated by JS -->
    </div>
  </div>
  
  <main id="contentCard">
    <div class="px-4"> <!-- Added horizontal padding -->
      <header class="grid grid-cols-1 sm:grid-cols-2 gap-5 items-center p-6 sm:p-10 pt-16">
        <div class="overflow-hidden"> 
          <h1 class="text-2xl sm:text-3xl font-bold uppercase font-heading lava-gradient-text whitespace-nowrap">WIKD Z06</h1>
          <h2 class="text-sm sm:text-base uppercase font-heading text-white whitespace-nowrap">2016 CORVETTE Z06 Z07</h2>
        </div>
        <div class="text-center sm:text-right">
          <div class="stats-hp text-2xl sm:text-3xl font-bold font-heading whitespace-nowrap" data-target="1315" style="color: #ff4747;">0 HP</div>
          <div class="stats-tq text-xl sm:text-2xl font-bold font-heading whitespace-nowrap" data-target="1045" style="color: #ffa500;">0 TQ</div>
        </div>
      </header>

      <div class="h-1 w-full lava-gradient-bg"></div>

      <div class="px-2 sm:px-6 pt-4 sm:pt-6 pb-24 sm:pb-10">
        <section class="anim-stagger">
          <div id="chart-container">
            <canvas id="dynoChart"></canvas>
          </div>
          <div class="mt-5 bg-gray-900/50 border border-gray-800 clip-path-data-section">
            <div class="data-header flex justify-between items-center cursor-pointer p-4 transition-colors hover:bg-gray-800/20">
              <h4 class="text-sm font-semibold uppercase font-heading">WIKD Tuned Session Report</h4>
              <i class="fas fa-chevron-down transition-transform duration-300"></i>
            </div>
            <div class="data-list-collapsible max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
              <div class="p-4 border-t border-gray-800">
                <p class="text-sm text-gray-300">(+765 WHP / +495 WTQ vs. Stock)</p>
                <p class="text-sm text-gray-300 mt-2"><strong>Peak Power:</strong> 1315.1 WHP @ 6,500 RPM</p>
                <p class="text-sm text-gray-300 mt-2"><strong>Peak Torque:</strong> 1045.6 WTQ</p>
                <p class="text-xs text-gray-500 mt-2">Data extracted from SAE J1349 corrected dyno graph. Stock figures estimated.</p>
              </div>
            </div>
          </div>
        </section>

        <section class="mt-10 anim-stagger">
              <h3 class="text-3xl font-bold uppercase font-heading border-b border-gray-800 pb-2 mb-4">Specifications</h3>
              <ul class="text-lg">
                <li class="flex justify-between py-3 border-b border-gray-800/50"><strong class="text-gray-400 font-medium">YEAR</strong><span>2016</span></li>
                <li class="flex justify-between py-3 border-b border-gray-800/50"><strong class="text-gray-400 font-medium">MAKE</strong><span>CORVETTE</span></li>
                <li class="flex justify-between py-3"><strong class="text-gray-400 font-medium">MODEL</strong><span>Z06 Z07</span></li>
              </ul>

              <div class="mods-section mt-10">
                <h3 class="text-3xl font-bold uppercase font-heading border-b border-gray-800 pb-2 mb-4">Modifications</h3>
                <div class="mt-4 space-y-6">
                  <div>
                    <h4 class="text-xl font-semibold text-red-500 uppercase font-heading border-b border-gray-800 pb-2">Engine</h4>
                    <ul class="mt-4 space-y-2 text-gray-300">
                      <li>Stock LT4 Shortblock</li>
                      <li>Stock LT4 Cylinder Heads with .660 Valvesprings, Titanium Retainers</li>
                      <li>Comp Cams Pushrods</li>
                      <li>LME 120mm Billet Intake Manifold</li>
                      <li>Kooks 1 7/8 Longtube Headers and X pipe</li>
                      <li>Corsa Extreme Axle-back</li>
                    </ul>
                  </div>
                  <div>
                    <h4 class="text-xl font-semibold text-red-500 uppercase font-heading border-b border-gray-800 pb-2">Cooling</h4>
                    <ul class="mt-4 space-y-2 text-gray-300">
                      <li>WIKD Extreme Duty Fan Assembly</li>
                      <li>Dewitts Radiator</li>
                      <li>Procharger Race Ice Tank with EMP Pump</li>
                    </ul>
                  </div>
                  <div>
                    <h4 class="text-xl font-semibold text-red-500 uppercase font-heading border-b border-gray-800 pb-2">Power Adder</h4>
                    <ul class="mt-4 space-y-2 text-gray-300">
                      <li>Procharger F1X Head Unit</li>
                      <li>WIKD Custom Air to Water Heat Exchanger</li>
                      <li>Snow Performance Dual Nozzle Methanol Injection</li>
                    </ul>
                  </div>
                </div>
              </div>
            </section>
      </div>
    </div>
  </main>


  <!-- Lightbox -->
  <div id="lightbox" class="fixed top-0 left-0 w-full h-full bg-black/90 z-50 flex justify-center items-center p-4 opacity-0 pointer-events-none transition-opacity duration-300">
    <div class="relative w-full h-full max-w-4xl max-h-full flex justify-center items-center">
      <button class="lightbox-close absolute top-4 right-4 text-white text-5xl z-10 transition-colors hover:text-red-500">&times;</button>
      <button class="lightbox-prev absolute top-1/2 left-0 sm:-left-12 text-white text-4xl -translate-y-1/2 transition-colors hover:text-red-500">&lt;</button>
      <button class="lightbox-next absolute top-1/2 right-0 sm:-right-12 text-white text-4xl -translate-y-1/2 transition-colors hover:text-red-500">&gt;</button>
      <img src="" alt="Lightbox image" id="lightboxImg" class="max-w-full max-h-full sm:max-h-[90vh] rounded-lg">
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <script>
  document.addEventListener('DOMContentLoaded', function() {
    
    // --- GLOBAL ELEMENTS & DATA ---
    const contentCard = document.getElementById('contentCard');
    const tickerWrapper = document.getElementById('tickerWrapper');
    const tickerInner = document.getElementById('tickerInner');
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightboxImg');
    
    const originalImageSources = [
      "https://cdn.shopify.com/s/files/1/0671/4635/0805/files/C7_Black_Dyno_2_310640e9-af91-41ca-8554-bdc3479cb2ae.jpg?v=1732120285",
      "https://cdn.shopify.com/s/files/1/0671/4635/0805/files/C7_Black_EngineBay_1_46d7c3ca-66f2-42ea-972a-9daabcca666c.jpg?v=1732120285",
      "https://cdn.shopify.com/s/files/1/0671/4635/0805/files/C7_Black_Trunk_1t_758d6f66-d172-4b2f-9e7f-af893f46d7cf.jpg?v=1732120284",
      "https://cdn.shopify.com/s/files/1/0671/4635/0805/files/C7_Black_Shop_4t.jpg?v=1700251346",
      "https://cdn.shopify.com/s/files/1/0671/4635/0805/files/C7_Black_Shop_2.jpg?v=1700251344",
      "https://cdn.shopify.com/s/files/1/0671/4635/0805/files/C7_Black_Shop_1.jpg?v=1700251344",
      "https://cdn.shopify.com/s/files/1/0671/4635/0805/files/C7_Black_Shop_3.jpg?v=1700251345",
      "https://cdn.shopify.com/s/files/1/0671/4635/0805/files/wikd_z06_salt_flats_0-00-00-00.webp?v=1750452466"
    ];
    let lightboxCurrentIndex = 0;
    
    function populateTicker() {
      tickerInner.innerHTML = '';
      originalImageSources.forEach((src, index) => {
        const card = document.createElement('div');
        card.className = 'image-ticker-card';
        card.innerHTML = `<img src="${src}" alt="WIKD Z06 Gallery Image ${index + 1}">`;
        card.addEventListener('click', () => showImageInLightbox(index));
        tickerInner.appendChild(card);
      });
    }

    // --- LIGHTBOX LOGIC ---
    function showImageInLightbox(index) {
        lightboxCurrentIndex = index;
        lightboxImg.src = originalImageSources[lightboxCurrentIndex];
        lightbox.classList.remove('opacity-0', 'pointer-events-none');
    }
    
    function setupLightboxControls() {
        if (!lightbox) return;
        document.querySelector('.lightbox-close').addEventListener('click', () => lightbox.classList.add('opacity-0', 'pointer-events-none'));
        document.querySelector('.lightbox-prev').addEventListener('click', () => showImageInLightbox((lightboxCurrentIndex - 1 + originalImageSources.length) % originalImageSources.length));
        document.querySelector('.lightbox-next').addEventListener('click', () => showImageInLightbox((lightboxCurrentIndex + 1) % originalImageSources.length));
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !lightbox.classList.contains('opacity-0')) {
                lightbox.classList.add('opacity-0', 'pointer-events-none');
            }
        });
    }

    // --- HORIZONTAL TICKER LOGIC ---
    let animationFrameId;
    function cloneTickerItems() {
      const originalItems = tickerInner.querySelectorAll('.image-ticker-card');
      originalItems.forEach(item => {
        const clone = item.cloneNode(true);
        const originalIndex = Array.from(originalItems).indexOf(item);
        clone.addEventListener('click', () => showImageInLightbox(originalIndex));
        tickerInner.appendChild(clone);
      });
    }
    
    function startHorizontalTicker() {
        cancelAnimationFrame(animationFrameId);
        let scrollSpeed = 0.7;
        
        function animateHorizontalScroll() {
            tickerWrapper.scrollLeft += scrollSpeed;
            if (tickerWrapper.scrollLeft >= tickerInner.scrollWidth / 2) {
                tickerWrapper.scrollLeft = 0;
            }
            animationFrameId = requestAnimationFrame(animateHorizontalScroll);
        }
        animateHorizontalScroll();
    }
    
    // --- INITIALIZATION ---
    populateTicker();
    cloneTickerItems();
    setupLightboxControls();
    startHorizontalTicker();

    // --- COLLAPSIBLE DATA SECTION ---
    const dataHeader = document.querySelector('.data-header');
    if (dataHeader) {
        const dataList = document.querySelector('.data-list-collapsible');
        const icon = dataHeader.querySelector('i');
        dataHeader.addEventListener('click', () => {
            const isActive = dataHeader.classList.toggle('active');
            dataList.style.maxHeight = isActive ? dataList.scrollHeight + 'px' : '0';
            icon.style.transform = isActive ? 'rotate(180deg)' : 'rotate(0deg)';
        });
    }

    // --- GSAP & CHART ---
    gsap.registerPlugin(ScrollTrigger);
    // Animate elements inside the scrolling card
    gsap.utils.toArray('.anim-stagger').forEach(elem => {
      gsap.from(elem, {
        scrollTrigger: { 
            trigger: elem, 
            start: 'top 90%', 
            toggleActions: 'play none none none' 
        },
        opacity: 0, y: 50, duration: 0.8, ease: 'power3.out'
      });
    });
   
    // Trigger number animation when the header enters the viewport
    ScrollTrigger.create({
        trigger: '#contentCard header',
        start: 'top 80%',
        once: true,
        onEnter: () => {
            gsap.utils.toArray('.stats-hp, .stats-tq').forEach(stat => {
              const target = parseInt(stat.dataset.target, 10);
              const statObject = { val: 0 };
              gsap.to(statObject, {
                val: target, duration: 2.5, ease: 'power3.out',
                onUpdate: () => {
                  stat.textContent = `${Math.round(statObject.val)} ${stat.classList.contains('stats-hp') ? 'HP' : 'TQ'}`;
                }
              });
            });
        }
    });

    // --- SET INITIAL SCROLL POSITION ---
    // After the page structure is ready, scroll to the "pre-scrolled" position.
    setTimeout(() => {
      // We want the content card to be visible starting 65% down the page.
      const initialScrollPosition = window.innerHeight * 0.65;
      window.scrollTo({
        top: initialScrollPosition,
        behavior: 'instant'
      });
    }, 100); // Small delay to prevent layout shifts from interfering.


    // --- CHART SCRIPT (NO CHANGE) ---
    const fullChartData = [
      { rpm: 3000, horsepower: 380, torque: 670 }, { rpm: 3100, horsepower: 410, torque: 690 },
      { rpm: 3200, horsepower: 440, torque: 720 }, { rpm: 3300, horsepower: 480, torque: 760 },
      { rpm: 3400, horsepower: 530, torque: 815 }, { rpm: 3500, horsepower: 580, torque: 870 },
      { rpm: 3600, horsepower: 620, torque: 900 }, { rpm: 3700, horsepower: 650, torque: 920 },
      { rpm: 3800, horsepower: 670, torque: 925 }, { rpm: 3900, horsepower: 690, torque: 930 },
      { rpm: 4000, horsepower: 710, torque: 935 }, { rpm: 4100, horsepower: 735, torque: 940 },
      { rpm: 4200, horsepower: 760, torque: 950 }, { rpm: 4300, horsepower: 785, torque: 960 },
      { rpm: 4400, horsepower: 810, torque: 965 }, { rpm: 4500, horsepower: 830, torque: 970 },
      { rpm: 4600, horsepower: 855, torque: 975 }, { rpm: 4700, horsepower: 880, torque: 980 },
      { rpm: 4800, horsepower: 910, torque: 995 }, { rpm: 4900, horsepower: 940, torque: 1010 },
      { rpm: 5000, horsepower: 970, torque: 1020 }, { rpm: 5100, horsepower: 995, torque: 1025 },
      { rpm: 5200, horsepower: 1020, torque: 1030 }, { rpm: 5300, horsepower: 1050, torque: 1035 },
      { rpm: 5400, horsepower: 1080, torque: 1040 }, { rpm: 5500, horsepower: 1110, torque: 1045 },
      { rpm: 5600, horsepower: 1140, torque: 1045 },
      { rpm: 5700, horsepower: 1170, torque: 1040 }, { rpm: 5800, horsepower: 1200, torque: 1038 },
      { rpm: 5900, horsepower: 1225, torque: 1035 }, { rpm: 6000, horsepower: 1250, torque: 1030 },
      { rpm: 6100, horsepower: 1270, torque: 1025 }, { rpm: 6200, horsepower: 1285, torque: 1020 },
      { rpm: 6300, horsepower: 1300, torque: 1015 }, { rpm: 6400, horsepower: 1310, torque: 1010 },
      { rpm: 6500, horsepower: 1315, torque: 1005 },
      { rpm: 6600, horsepower: 1310, torque: 990 }, { rpm: 6700, horsepower: 1300, torque: 970 },
      { rpm: 6800, horsepower: 1280, torque: 930 }, { rpm: 6900, horsepower: 1150, torque: 820 },
    ];
    
    const lastRpmPoint = 6800;
    const chartData = fullChartData.filter(d => d.rpm <= lastRpmPoint);
    const peakHpIndex = chartData.findIndex(d => d.horsepower === 1315);
    const peakTqIndex = chartData.findIndex(d => d.torque === 1045);
    const peakHpData = new Array(chartData.length).fill(null);
    if (peakHpIndex !== -1) peakHpData[peakHpIndex] = chartData[peakHpIndex].horsepower;
    const peakTqData = new Array(chartData.length).fill(null);
    if (peakTqIndex !== -1) peakTqData[peakTqIndex] = chartData[peakTqIndex].torque;

    const fullBorderPlugin = {
      id: 'fullBorder',
      afterDraw: (chart) => {
        const { ctx, chartArea: { left, top, width, height } } = chart;
        ctx.save();
        ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
        ctx.lineWidth = 1;
        ctx.strokeRect(left, top, width, height);
        ctx.restore();
      }
    };
    const chartCanvas = document.getElementById('dynoChart');
    if (chartCanvas) {
      new Chart(chartCanvas, {
        type: 'line',
        data: {
          labels: chartData.map(d => d.rpm),
          datasets: [
            { label: 'Horsepower (WHP)', data: chartData.map(d => d.horsepower), borderColor: '#ff4747', backgroundColor: '#ff4747', borderWidth: 2, pointRadius: 0, pointStyle: 'triangle', yAxisID: 'yHP', tension: 0.4, order: 1, segment: { borderColor: ctx => (peakHpIndex !== -1 && ctx.p1DataIndex > peakHpIndex) ? '#555555' : undefined, borderDash: ctx => (peakHpIndex !== -1 && ctx.p1DataIndex > peakHpIndex) ? [5, 5] : undefined, } },
            { label: 'Torque (lb-ft)', data: chartData.map(d => d.torque), borderColor: '#ffa500', backgroundColor: '#ffa500', borderWidth: 2, pointRadius: 0, pointStyle: 'rect', yAxisID: 'yHP', tension: 0.4, order: 1, segment: { borderColor: ctx => (peakTqIndex !== -1 && ctx.p1DataIndex > peakTqIndex) ? '#555555' : undefined, borderDash: ctx => (peakTqIndex !== -1 && ctx.p1DataIndex > peakTqIndex) ? [5, 5] : undefined, } },
            { label: 'Peak HP', data: peakHpData, pointStyle: 'triangle', pointRadius: 6, pointBackgroundColor: '#ff4747', yAxisID: 'yHP', showLine: false, order: 0 },
            { label: 'Peak TQ', data: peakTqData, pointStyle: 'rect', pointRadius: 6, pointBackgroundColor: '#ffa500', yAxisID: 'yHP', showLine: false, order: 0 }
          ]
        },
        options: {
          animation: {
              x: { type: 'number', easing: 'linear', duration: 50, from: NaN, delay(ctx) { if (ctx.type !== 'data' || ctx.xStarted) { return 0; } ctx.xStarted = true; return ctx.index * 50; } },
              y: { type: 'number', easing: 'linear', duration: 50, from: (ctx) => { if (ctx.index === 0) { return ctx.chart.scales.yHP.getBasePixel(); } return ctx.chart.getDatasetMeta(ctx.datasetIndex).data[ctx.index - 1].getProps(['y'], true).y; }, delay(ctx) { if (ctx.type !== 'data' || ctx.yStarted) { return 0; } ctx.yStarted = true; return ctx.index * 50; } }
          },
          responsive: true,
          maintainAspectRatio: true,
          aspectRatio: 1.5,
          interaction: { mode: 'index', intersect: false },
          plugins: {
            legend: { display: false },
            tooltip: { backgroundColor: 'rgba(31, 31, 31, 0.9)', borderColor: '#2A2A2A', borderWidth: 1, titleFont: { weight: 'bold' }, bodySpacing: 4, padding: 10, callbacks: { title: (context) => `RPM: ${context[0].label}` } }
          },
          scales: {
            x: { grid: { color: 'rgba(255, 255, 255, 0.1)' }, ticks: { color: '#a1a1aa', callback: function(val) { const tickValue = this.getLabelForValue(val); if (tickValue % 500 === 0) { return `${tickValue / 1000}k`; } return ''; }, maxRotation: 0, autoSkipPadding: 20 } },
            yHP: { type: 'linear', position: 'left', grid: { color: 'rgba(255, 255, 255, 0.1)' }, ticks: { color: '#a1a1aa', callback: function(value) { if (value % 200 === 0 || value === this.max || value === this.min) { return value; } return ''; } }, min: 380, max: 1400 },
          }
        },
        plugins: [fullBorderPlugin]
      });
    }
  });
  </script>
</body>
</html>

